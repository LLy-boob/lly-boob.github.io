<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <meta name="theme-color" content="#2c3f51">

    <title>SwipeFury ‚Äî Free 3D Swipe & Burst Arcade Game | Online Reflex Challenge</title>
    <meta name="description"
        content="Play SwipeFury ‚Äî a fast-paced 3D swipe-and-burst arcade game. Swipe, smash, and survive rising blocks in this free online reflex game. Play instantly on any device ‚Äî browser or mobile, no download required or you download if required.">

    <link rel="canonical" href="https://lly-boob.github.io/">
    <meta name="keywords" content="swipe game, 3D game, cube game, arcade game, browser game, free game, casual game, mobile game, PWA game, reflex game">

    <link rel="icon" href="https://lly-boob.github.io/favicon.png?v=2" sizes="32x32">
    <link rel="icon" href="https://lly-boob.github.io/favicon.png?v=2" sizes="192x192">
    <link rel="apple-touch-icon" href="https://lly-boob.github.io/favicon.png?v=2">

    <link rel="manifest" href="./manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

    <link rel="apple-touch-icon" sizes="180x180" href="./favicon.png">
    <link rel="apple-touch-icon" sizes="167x167" href="./favicon.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./favicon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./favicon.png">

    <meta name="google-site-verification" content="gZ3LD9X67kObs3lh5Ix7KD9vnSki8VLa6ZONdvCPIxE">

    <meta name="monetag" content="ef7c500bcbab5c68feaab4175d9cfc13">

    <meta property="og:type" content="website">
    <meta property="og:title" content="SwipeFury ‚Äî Free 3D Swipe & Burst Arcade Game">
    <meta property="og:description"
        content="Play SwipeFury ‚Äî a fast-paced 3D swipe-and-burst arcade game. Swipe, smash, and survive rising blocks in this free online reflex game. Play instantly on any device.">
    <meta property="og:url" content="https://lly-boob.github.io/">
    <meta property="og:image" content="https://lly-boob.github.io/favicon.png">
    <meta property="og:image:alt" content="SwipeFury 3D gameplay screenshot">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SwipeFury ‚Äî Free 3D Swipe & Burst Arcade Game">
    <meta name="twitter:description"
        content="Swipe, smash, survive. SwipeFury is a fast 3D WebGL arcade challenge where one mistake means instant game over. Play free online.">
    <meta name="twitter:image" content="https://lly-boob.github.io/favicon.png">

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "VideoGame",
  "name": "SwipeFury",
  "url": "https://lly-boob.github.io/",
  "image": "https://lly-boob.github.io/favicon.png",
  "description": "SwipeFury is a fast-paced 3D WebGL arcade game where you swipe and burst incoming blocks, survive rising speed, and avoid instant game over. Free online reflex game, playable instantly on any device, no download required.",
  "applicationCategory": "GameApplication",
  "operatingSystem": "Web",
  "genre": "Arcade, Reflex, 3D, Swipe",
  "publisher": {
    "@type": "Organization",
    "name": "LLydra"
  }
}
	</script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5H8LNM4MP1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-5H8LNM4MP1');
    </script>

    
    <script>
        (()=>{const e=["lly-boob.github.io","localhost"],o=location.hostname.toLowerCase();if(!e.includes(o))return document.body.innerHTML='<div style="font-family:Arial;text-align:center;margin-top:50px;font-size:22px;font-weight:bold;color:red;">‚ö†Ô∏è Unauthorized: This game cannot run on this site</div>',void new Error("Unauthorized domain");
        
        
        console.log=console.warn=console.error=console.debug=console.info=console.trace=(()=>{});
        
       
        (function(){const e=new Image;Object.defineProperty(e,"id",{get:function(){document.body.innerHTML="‚ö†Ô∏è Unauthorized: Developer tools are not allowed.",console.clear(),document.body.style.display="none";throw new Error("DevTools Blocked")}});setInterval(()=>{console.dir(e)},1e3)})();
        
      
        document.onkeydown=function(e){if("F12"===e.key||e.ctrlKey&&e.shiftKey&&("I"===e.key||"C"===e.key||"J"===e.key)||e.ctrlKey&&"U"===e.key)return e.preventDefault(),!1};
        
      
        document.addEventListener('contextmenu', e => e.preventDefault());
        
       
        document.addEventListener('selectstart', e => e.preventDefault());
        document.addEventListener('copy', e => e.preventDefault());
        
      
        setInterval(function(){(function(){}).constructor("debugger")()},1000);
        
       
        let devtoolsOpen = false;
        const threshold = 160;
        setInterval(function(){
            if(window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold){
                if(!devtoolsOpen){
                    devtoolsOpen = true;
                    document.body.innerHTML = "‚ö†Ô∏è Developer tools detected. Closing game.";
                }
            }
        }, 500);
        
        })();
    </script>

</head>
<body>

    <div style="position:absolute; left:-9999px; top:-9999px; height:0; width:0; overflow:hidden; opacity:0;">
        <h1>SwipeFury ‚Äî Free 3D Swipe & Burst Arcade Game</h1>
        <h2>Fast Reflex Game ‚Ä¢ Swipe Blocks ‚Ä¢ Burst Combos ‚Ä¢ Survive the Speed</h2>

        <p>
            SwipeFury is a fast-paced 3D WebGL arcade game where players swipe and burst incoming blocks before they
            stack up.
            The speed increases over time, creating an intense survival challenge. One wrong move leads to instant game
            over,
            making SwipeFury a reflex-based game built for fast-action gamers.
        </p>

        <p>
            The game features smooth swipe controls, 3D block animations, burst effects, combo multipliers, increasing
            difficulty,
            and a clean, mobile-friendly layout. Play instantly on any device ‚Äî free, online, and no download required.
        </p>

        <p>
            Keywords: SwipeFury, free arcade game, 3D swipe game, reflex survival game, fast reaction game, WebGL block
            game,
            free online game, browser game, mobile game, swipe-and-smash challenge, speed survival game, combo arcade
            game, 3D games.
        </p>
    </div>
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(to bottom, #020005, #050510);
        }

        #gameCanvas {
            width: 100vw;
            height: 100vh;
            display: block;
            transition: background 2s ease;
            overflow: hidden;
        }

       
        .biome-overlay, .biome-layer-1, .biome-layer-2 {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            opacity: 0;
            transition: opacity 2s ease;
        }

       
        body.focus-mode .biome-overlay,
        body.focus-mode .biome-layer-1,
        body.focus-mode .biome-layer-2 {
            opacity: 0.15 !important;
            filter: blur(8px);
            transition: opacity 0.3s ease, filter 0.3s ease;
        }
        
       
        body.biome-midnight {
            background: linear-gradient(to bottom, #020005, #050510) !important;
        }
       
        body.biome-midnight .biome-overlay {
            opacity: 0.4;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 80px 80px;
        }

       
        body.biome-neon {
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e) !important;
        }
       
        body.biome-neon .biome-overlay {
            opacity: 0.5;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px; 
        }
       
        body.biome-neon .biome-layer-1 {
            opacity: 0.8;
            background: radial-gradient(circle at 50% 100%, #ff0 0%, #ff0 15%, #f0f 30%, transparent 60%);
            mix-blend-mode: screen;
            filter: blur(20px);
        }

       
        body.biome-grid {
             background: #050010 !important;
             perspective: 1000px;
        }
        
        body.biome-grid .biome-overlay {
             opacity: 1;
             background: 
                linear-gradient(transparent 95%, rgba(0, 255, 255, 0.5) 95%),
                linear-gradient(90deg, transparent 95%, rgba(0, 255, 255, 0.5) 95%);
             background-size: 40px 40px;
             transform-origin: bottom;
             transform: rotateX(60deg) translateY(0);
             animation: gridMove 2s linear infinite;
        }
        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 0 40px; }
        }

       
        body.biome-ice {
            background: linear-gradient(180deg, #000c18 0%, #001f3f 100%) !important;
        }
        /* Frost Fog (Layer 1) */
        body.biome-ice .biome-overlay {
            opacity: 0.6;
            background: radial-gradient(circle at 50% 100%, rgba(200, 240, 255, 0.1), transparent 70%);
            animation: fogPulse 8s ease-in-out infinite;
        }
        
        body.biome-ice .biome-layer-1 {
            opacity: 1;
            background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="1.5" fill="cyan" opacity="0.8"/><circle cx="50" cy="40" r="1" fill="white" opacity="0.6"/><circle cx="80" cy="80" r="2" fill="white" opacity="0.9"/></svg>');
            animation: snowFall 4s linear infinite;
            background-size: 300px 300px;
            filter: drop-shadow(0 0 5px cyan);
        }
        @keyframes fogPulse { 0%{opacity:0.4; transform:scale(1);} 50%{opacity:0.7; transform:scale(1.1);} 100%{opacity:0.4; transform:scale(1);} }
        @keyframes snowFall { 0% { background-position: 0 0; } 100% { background-position: 50px 300px; } }

       
        body.biome-magma {
             background: radial-gradient(circle at 50% 120%, #3b0000 0%, #120000 70%, #000000 100%) !important;
        }
        
        body.biome-magma .biome-overlay {
            opacity: 0.4;
            background: radial-gradient(circle at 50% 90%, rgba(255, 80, 0, 0.18), transparent 65%);
            filter: blur(55px);
            animation: magmaAmbient 12s ease-in-out infinite;
            mix-blend-mode: screen;
        }
       
        body.biome-magma .biome-layer-1 {
            opacity: 0.25;
            background-image: radial-gradient(rgba(255, 120, 50, 0.12) 1px, transparent 1px);
            background-size: 140px 140px;
            animation: emberDrift 90s linear infinite;
        }
        @keyframes magmaAmbient { 0%,100%{opacity:0.35; transform:scale(1);} 50%{opacity:0.55; transform:scale(1.05);} }
        @keyframes emberDrift { from{background-position:0 0;} to{background-position:0 -800px;} }

       
        body.biome-cyber {
            background: #000 !important;
        }
        
        body.biome-cyber .biome-overlay {
            opacity: 1;
            background-image: linear-gradient(0deg, transparent 24%, #0f0 25%, #0f0 26%, transparent 27%, transparent 74%, #0f0 75%, #0f0 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, #0f0 25%, #0f0 26%, transparent 27%, transparent 74%, #0f0 75%, #0f0 76%, transparent 77%, transparent);
            background-size: 60px 60px;
            animation: cyberScroll 5s linear infinite;
            filter: drop-shadow(0 0 2px #0f0) hue-rotate(90deg);
        }
        @keyframes cyberScroll { 0% { background-position: 0 0; } 100% { background-position: 0 120px; } }

       
        body.biome-solar {
            background: radial-gradient(circle at 50% 120%, #ff8800 0%, #300000 70%, #000 100%) !important;
        }
       
        body.biome-solar .biome-layer-1 {
            opacity: 0.7;
            background: radial-gradient(circle at 50% 120%, #fff 0%, #ffaa00 30%, transparent 60%);
            filter: blur(40px) brightness(1.5);
            animation: solarPulse 0.5s infinite alternate;
        }
       
        body.biome-solar .biome-overlay {
             opacity: 0.3;
             background: url("https://www.transparenttextures.com/patterns/stardust.png");
             filter: sepia(100%) saturate(300%) hue-rotate(-20deg) brightness(2);
             animation: shakeSolar 0.2s infinite;
        }
        @keyframes solarPulse { from{opacity:0.6; transform:scale(1);} to{opacity:0.8; transform:scale(1.02);} }
        @keyframes shakeSolar { 0%{transform: translate(0,0);} 25%{transform: translate(1px, 1px);} 50%{transform: translate(-1px, 0);} 75%{transform: translate(0, -1px);} }

        
        body.biome-zenith {
            background: radial-gradient(circle at 50% 0%, #fff 0%, #ffd700 20%, #eee 100%) !important;
        }
       
        body.biome-zenith .biome-overlay {
            opacity: 0.5;
            background: linear-gradient(180deg, rgba(255,255,255,0.8), transparent);
            mix-blend-mode: soft-light;
        }
        
        body.biome-zenith .biome-layer-1 {
            opacity: 1;
            background-image: radial-gradient(#ffd700 1px, transparent 1px);
            background-size: 60px 60px;
            animation: riseZenith 3s linear infinite;
        }
        body.biome-zenith .biome-layer-2 {
            opacity: 0.5;
            background: floralwhite;
            mix-blend-mode: overlay;
        }
        @keyframes riseZenith { from{background-position:0 0;} to{background-position:0 -60px;} }

        
        .menu--guide {
            display: none !important;
        }
        .menu--guide.active {
            display: flex !important;
        }
        
       
        .guide-content::-webkit-scrollbar {
            width: 8px;
        }
        .guide-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }
        .guide-content::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #00ffff, #00ff88);
            border-radius: 4px;
            box-shadow: 0 0 10px #00ffff;
        }
    </style>
    <link rel="stylesheet" href="style.css?v=4" media="print" onload="this.media='all'">

    <div id="swipeFuryLoader" style="
        position:fixed; inset:0; background:#000; 
        z-index:99999; overflow:hidden;
        display:flex; flex-direction: column; 
        justify-content:center; align-items:center;
        transition:opacity 1.6s ease-out;
        perspective: 1000px;
        gap: 20px; /* Space between elements */
    ">
        
      
        <div class="loader-grid" style="
            position: absolute; inset: -50%; width: 200%; height: 200%;
            background-image: 
                linear-gradient(rgba(0,255,255,0.07) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,255,255,0.07) 1px, transparent 1px);
            background-size: 60px 60px;
            transform: rotateX(60deg);
            animation: gridScroll 10s linear infinite;
            mask-image: radial-gradient(circle, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 80%);
            -webkit-mask-image: radial-gradient(circle, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 80%);
            pointer-events: none;
        "></div>

       
        <div style="position: relative; z-index: 2;">
            
            <div style="
                position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
                width: 100px; height: 100px; border-radius: 50%;
                border: 2px solid #00ffff; opacity: 0;
                animation: shockwave 2s infinite;
                z-index: -1;
            "></div>
            
            <img src="favicon.png" id="fullLogo" alt="SwipeFury" style="
                width: 180px; height: 180px; object-fit:contain;
                animation: epicEnter 2s ease-out forwards, breathe 3s ease-in-out infinite 2s;
                position: relative; z-index: 2;
                filter: drop-shadow(0 0 20px rgba(0,255,255,0.5));
            ">
        </div>

       
        <div style="position: relative; width: 80px; height: 80px; z-index: 2;">
            <svg id="progressRing" viewBox="0 0 200 200" style="
                width: 100%; height: 100%; opacity:0;
                animation:fadeIn 0.5s 0.5s forwards;
                filter: drop-shadow(0 0 5px #00ffff);
            ">
                <circle cx="100" cy="100" r="90" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="12" />
                <circle cx="100" cy="100" r="90" fill="none" stroke="url(#grad)" stroke-width="12" stroke-linecap="round"
                    stroke-dasharray="565" stroke-dashoffset="565" style="transition:stroke-dashoffset 0.4s ease;" />
                <defs>
                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#00ffff" />
                        <stop offset="100%" stop-color="#00ff88" />
                    </linearGradient>
                </defs>
            </svg>
            
            <div id="loadingText" style="
                position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
                color: #00ffff; font-family: 'Courier New', monospace; font-weight: bold; font-size: 14px;
            ">0%</div>
        </div>
        
        <h1 class="loader-title" style="
            color:#fff; font-family:'Arial Black', sans-serif;
            font-size: 20px; letter-spacing: 4px; text-transform: uppercase;
            text-shadow: 0 0 10px rgba(0,255,255,0.8);
            margin: 0; padding-top: 20px; text-align: center;
            opacity:0; animation:fadeIn 1s 1s forwards, glitchText 4s infinite 1s;
            z-index: 3;
        ">SWIPE TO UNLEASH FURY</h1>

    </div>

    <style>
        @keyframes shockwave {
            0% { width: 100px; height: 100px; opacity: 0.8; border-width: 4px; }
            100% { width: 400px; height: 400px; opacity: 0; border-width: 0px; }
        }


        @keyframes gridScroll {
            from { transform: rotateX(60deg) translateY(0); }
            to { transform: rotateX(60deg) translateY(60px); }
        }

        @keyframes glitchText {
            0%, 90%, 100% { transform: translate(0,0); filter: blur(0); }
            91% { transform: translate(2px,0); filter: blur(1px); }
            92% { transform: translate(-2px,0); }
            93% { transform: translate(0,0); }
            95% { transform: translate(1px,-1px); filter: hue-rotate(90deg); }
            96% { transform: translate(0,0); filter: hue-rotate(0deg); }
        }

        @keyframes epicEnter {
            0% { transform: scale(2.5) rotate(-15deg); filter: blur(20px); opacity: 0; }
            60% { transform: scale(1.15) rotate(3deg); filter: blur(0); opacity: 1; }
            100% { transform: scale(1) rotate(0); opacity: 1; }
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.06); }
        }

        @keyframes megaGlow {
            0% { filter: drop-shadow(0 0 60px #00ffff) drop-shadow(0 0 120px #ff0066); }
            100% { filter: drop-shadow(0 0 100px #00ffff) drop-shadow(0 0 200px #ff0066); }
        }

        @keyframes fadeIn { to { opacity: 1; } }
    </style>

    <script>
        const loader = document.getElementById('swipeFuryLoader');
        const ring = document.querySelector('#progressRing circle:nth-child(2)');
        let progress = 0;

        setTimeout(() => {
            const interval = setInterval(() => {
                progress += Math.random() * 9 + 6;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    ring.style.strokeDashoffset = 0;
                    setTimeout(hideLoader, 800);
                }
                ring.style.strokeDashoffset = 565 - (565 * progress / 100);
            }, 100);
        }, 4200);

        function hideLoader() {
            loader.style.opacity = '0';
            setTimeout(() => loader.remove(), 1700);
        }

        setTimeout(() => progress = 100, 8000); 
        window.startBlockBlasterGame = hideLoader;
    </script>

    <canvas id="c"></canvas>

    <div class="hud">
        <div class="hud__score">
            <div class="score-lbl"></div>
            <div class="cube-count-lbl"></div>
        </div>
        <div class="pause-btn">
            <div></div>
        </div>
        <div class="slowmo">
            <div class="slowmo__bar"></div>
        </div>
    </div>

    <!-- PWA Install Banner -->
    <div class="pwa-install-banner" id="pwaInstallBanner">
        <button class="pwa-close-btn" id="pwaCloseBtn" title="Close">‚úï</button>
        <div class="pwa-banner-content">
            <div class="pwa-banner-icon">üéÆ</div>
            <div class="pwa-banner-text">
                <div class="pwa-banner-title">Install SwipeFury</div>
                <div class="pwa-banner-subtitle">Play, faster loading, full-screen mode!</div>
            </div>
            <div class="pwa-banner-buttons">
                <button class="pwa-install-btn" id="pwaInstallBtn">INSTALL</button>
                <button class="pwa-cancel-btn" id="pwaCancelBtn">Maybe Later</button>
            </div>
        </div>
    </div>

    <div class="menus">
        <div class="menu menu--main">
            <h1>SWIPE FURY</h1>
            <button type="button" class="play-normal-btn">PLAY GAME</button>
            <button type="button" class="play-casual-btn">CASUAL MODE</button>
            <button type="button" class="guide-btn" style="
                background: linear-gradient(45deg, #FFD700, #FFA500); 
                color: #000; font-weight: 800; border: 2px solid #fff;
                margin-top: 15px; font-size: 1.2rem;
            ">BATTLE GUIDE</button>
            <div class="credits">LLydra Version</div>
        </div>

        <div class="menu menu--guide" style="
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #0b0b0b; z-index: 200;
            flex-direction: column; /* JS toggles 'active' usually, but inline flex helps structure */
            padding: 0;
            box-sizing: border-box;
        ">
            
            <div class="guide-header" style="
                flex-shrink: 0;
                background: rgba(0,0,0,0.95); 
                padding: 20px 0; 
                width: 100%; 
                border-bottom: 1px solid #333;
                position: relative;
            ">
                <h1>BATTLE DATABASE</h1>
                <button class="close-guide-x" style="
                    position: absolute; top: 15px; right: 20px; background: none; border: none; 
                    color: #fff; font-size: 30px; cursor: pointer; padding: 10px;">√ó</button>
            </div>
            
            
            <div class="guide-content" style="
                flex-grow: 1; 
                overflow-y: auto; 
                -webkit-overflow-scrolling: touch;
                padding: 20px; 
                max-width: 800px;
                margin: 0 auto;
                text-align: left;
                width: 100%;
                box-sizing: border-box;
            ">
                
                
                <div class="guide-card" style="border: 2px solid #00ff88; padding: 20px; margin-bottom: 30px; border-radius: 12px; background: rgba(0, 255, 136, 0.05);">
                    <h2 style="color: #00ff88; margin: 0 0 15px 0; font-size: 1.4rem;">‚öîÔ∏è HOW TO PLAY</h2>
                    <ul style="margin: 0; padding-left: 20px; color: #ddd; line-height: 1.6;">
                        <li><b>SWIPE TO SLAY:</b> Swipe through cubes before they fall.</li>
                        <li><b>SPEED IS KEY:</b> The game gets faster every second.</li>
                        <li><b>SURVIVE:</b> Don't let cubes hit the bottom line.</li>
                        <li><b>COMBOS:</b> Chain multiple kills for massive multipliers.</li>
                    </ul>
                </div>

                <div class="guide-section-title" style="color: #888; border-bottom: 1px solid #333; padding-bottom: 5px; margin-bottom: 20px; font-weight: bold; letter-spacing: 2px;">
                    BIOME PROGRESSION MAP
                </div>

                
                <div class="guide-card" style="border: 1px solid #333; padding: 15px; margin-bottom: 20px; border-radius: 8px; background: #111;">
                    <h3 style="color: #ff00ff; margin: 0 0 10px 0;">NEON SUNSET</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#fff; font-weight:bold;">500 PTS</span></div>
                    <p style="font-size: 0.85em; opacity: 0.8; margin:0;">
                        The sun rises. Unlocks <b style="color:#ffd700">GOLD Cubes</b> (Bonus Points).
                    </p>
                </div>

                
                <div class="guide-card" style="border: 1px solid #333; padding: 15px; margin-bottom: 20px; border-radius: 8px; background: #111;">
                    <h3 style="color: #00ccff; margin: 0 0 10px 0;">CYBER GRID</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#fff; font-weight:bold;">1500 PTS</span></div>
                    <p style="font-size: 0.85em; opacity: 0.8; margin:0;">
                         Unlocks <b style="color:#ff6e79">ROSE Cubes</b> (Heavier Gravity).
                    </p>
                </div>

                
                <div class="guide-card" style="border: 1px solid #333; padding: 15px; margin-bottom: 20px; border-radius: 8px; background: #111;">
                    <h3 style="color: #00ffff; margin: 0 0 10px 0;">GLACIAL SUMMIT</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#fff; font-weight:bold;">2000 PTS</span></div>
                    <p style="font-size: 0.85em; opacity: 0.8; margin:0;">
                        Unlocks <b style="color:#00ffff">ICE Cubes</b>. Smash them to freeze time.
                    </p>
                </div>

                
                <div class="guide-card" style="border: 1px solid #ff4500; padding: 15px; margin-bottom: 20px; border-radius: 8px; background: rgba(255, 69, 0, 0.1);">
                    <h3 style="color: #ff4500; margin: 0 0 10px 0;">VOLCANIC FORGE</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#fff; font-weight:bold;">3500 PTS</span></div>
                    <p style="font-size: 0.85em; opacity: 0.8; margin:0;">
                         Unlocks <b style="color:#ff4500">MAGMA Cubes</b>.
                         <br><i>Danger:</i> They pulse and expand unpredictably. 
                    </p>
                </div>

                
                <div class="guide-card" style="border: 1px solid #0f0; padding: 15px; margin-bottom: 20px; border-radius: 8px; background: rgba(0, 255, 0, 0.05);">
                    <h3 style="color: #0f0; margin: 0 0 10px 0;">CYBER CORE</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#fff; font-weight:bold;">5000 PTS</span></div>
                    <p style="font-size: 0.85em; opacity: 0.8; margin:0;">
                         Unlocks <b style="color:#0f0">MATRIX Cubes</b> (Glitching Wireframes).
                         <br><b style="color:#ff0000">WARNING:</b> Slow-Mo help is reduced by 66% here.
                    </p>
                </div>

                
                <div class="guide-card" style="border: 1px solid #ffa500; padding: 15px; margin-bottom: 20px; border-radius: 8px; background: rgba(255, 165, 0, 0.1);">
                    <h3 style="color: #ffa500; margin: 0 0 10px 0;">SOLAR FLARE</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#fff; font-weight:bold;">7500 PTS</span></div>
                    <p style="font-size: 0.85em; opacity: 0.8; margin:0;">
                         Unlocks <b style="color:#88aaff">QUANTUM Cubes</b>.
                         <br><i>Danger:</i> They teleport instantly. Pure reflex required.
                    </p>
                </div>

                
                <div class="guide-card" style="border: 2px solid #ffd700; padding: 20px; margin-bottom: 20px; border-radius: 12px; background: linear-gradient(135deg, #eee, #fff);">
                    <h3 style="color: #bf9b30; margin: 0 0 10px 0;">THE ZENITH</h3>
                    <div style="font-size: 0.9em; margin-bottom: 5px;">REQ: <span style="color:#000; font-weight:bold;">10000 PTS</span></div>
                    <p style="font-size: 0.95em; color:#000; margin:0;">
                         Ascension. Survive the infinite light.
                         <br><b>Speed: MAX.</b>
                    </p>
                </div>

            </div>
            

        </div>

        <div class="menu menu--pause">
            <h1>Paused</h1>
            <button type="button" class="resume-btn">RESUME GAME</button>
            <button type="button" class="menu-btn--pause">MAIN MENU</button>
        </div>
        <div class="menu menu--score">
            <h1 class="game-over-title">Game Over</h1>
            <div class="final-score-lbl"></div>
            <div class="high-score-lbl"></div>
            <div class="celebration-container" style="display:none;"></div>
            <button type="button" class="share-btn" onclick="shareGame()" style="
                background: linear-gradient(45deg, #00ff88, #00ccff); 
                border: none; padding: 12px 24px; color: #000; font-weight: bold; 
                margin-top: 10px; border-radius: 30px; cursor: pointer;
            ">SHARE SCORE</button>
            <button type="button" class="play-again-btn">PLAY AGAIN</button>
            <button type="button" class="menu-btn--score"><span>MAIN MENU</span></button>
        </div>

    </div>

    <script>

        document.addEventListener("DOMContentLoaded", () => {
            const canvas = document.querySelector("canvas");
            if (!canvas) return;

            const blockOpts = { passive: false };
            ["touchstart", "touchmove", "touchend"].forEach(ev => {
                canvas.addEventListener(ev, e => {
                    e.preventDefault();

                }, blockOpts);
            });

            let lastX = 0, lastY = 0;

            canvas.addEventListener("touchmove", e => {
                const t = e.touches[0];
                lastX = t.clientX;
                lastY = t.clientY;
            }, { passive: true });

            canvas.style.touchAction = "none";
        });
    </script>

    <style>
        /* PERFORMANCE OPTIMIZATIONS */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        canvas {
            will-change: transform;
            transform: translateZ(0); 
        }

        
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        
        @media (max-width: 768px) {
            .stealth-settings-panel {
                backdrop-filter: blur(8px); 
            }
            .biome-notification {
                text-shadow: 0 0 10px currentColor; 
            }
        }
    </style>

    
    

        /* MONETIZATION: Ad Container */
        .monetag-container {
            background: transparent;
            max-height: 90px;
            overflow: hidden;
        }

        /* Hide ads during gameplay for better UX */
        body:not(.menu-active) .monetag-container {
            display: none;
        }

        /* REVENUE OPTIMIZATION: Move banner to top on Game Over for better visibility */
        .menu--score.active ~ .monetag-container {
            top: 70px;
            bottom: auto;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

    <style>
        
        .stealth-settings-trigger {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            z-index: 10001; 
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .stealth-settings-trigger:hover {
            opacity: 1;
            transform: rotate(90deg);
        }

        .stealth-settings-trigger svg {
            width: 100%;
            height: 100%;
            fill: none;
            stroke: #fff;
            stroke-width: 2;
        }

        .stealth-settings-panel {
            position: fixed;
            top: 70px;
            right: 20px;
            width: 250px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(0, 255, 255, 0.4);
            border-radius: 12px;
            padding: 20px;
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            transform: translateY(-10px) scale(0.95);
            transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .stealth-settings-panel.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0) scale(1);
        }

        .setting-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .setting-label {
            font-family: 'Courier New', monospace;
            font-size: 12px;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.8);
            letter-spacing: 1px;
            display: flex;
            justify-content: space-between;
        }

        
        .cyber-range {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            transition: background 0.3s;
        }

        .cyber-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            transition: transform 0.1s;
        }
        
        .cyber-range::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .cyber-range.vol-music::-webkit-slider-thumb {
            background: #0ff;
            box-shadow: 0 0 10px #0ff;
        }

        .cyber-range.vol-sfx::-webkit-slider-thumb {
            background: #ff0;
            box-shadow: 0 0 10px #ff0;
        }

        #autoInstallBox {
            opacity: 0;
            transform: translate(-50%, 20px);
            transition: all 0.6s ease;
        }

        #autoInstallBox.show {
            opacity: 1;
            transform: translate(-50%, 0);
            animation: bounceIn 0.6s ease-out;
        }


        
        .text-ice {
            color: #00ffff;
            text-shadow: 0 0 10px #00ffff;
        }
        .text-magma {
            color: #ff4500;
            text-shadow: 0 0 15px #ff0000;
        }
        .text-glitch {
            color: #0f0;
            animation: glitchText 0.3s infinite;
        }


        
        .biome-notification {
            position: fixed;
            top: 25%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            text-align: center;
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 3rem;
            font-weight: 900;
            text-shadow: 0 0 20px currentColor, 0 0 40px currentColor;
            opacity: 0;
            pointer-events: none;
            z-index: 2000;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            white-space: nowrap;
        }
        
        .biome-notification.active {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .biome-sub {
            display: block;
            font-size: 1rem;
            letter-spacing: 5px;
            margin-top: 10px;
            opacity: 0.8;
            font-weight: normal;
        }


        @keyframes letterPop {
            0% { 
                opacity: 0; 
                transform: translateY(50px) scale(0.5); 
            }
            60% { 
                transform: translateY(-10px) scale(1.2); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        .game-over-letter {
            display: inline-block;
            opacity: 0;
        }

        @keyframes bounceIn {
            0% {
                transform: translate(-50%, 40px);
            }
            60% {
                transform: translate(-50%, -5px);
            }
            100% {
                transform: translate(-50%, 0);
            }
        }
    </style>
   
    <div class="stealth-settings-trigger" id="settingsTrigger" title="Settings">
        <svg viewBox="0 0 24 24">
            <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.43-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
        </svg>
    </div>

    <div class="stealth-settings-panel" id="settingsPanel">
        <div class="setting-group">
            <div class="setting-label">
                <span>MUSIC</span>
                <span id="musicValLabel">50%</span>
            </div>
            <input type="range" class="cyber-range vol-music" id="stealthMusicVol" min="0" max="1" step="0.05" value="0.5">
        </div>

        <div class="setting-group">
            <div class="setting-label">
                <span>SFX</span>
                <span id="sfxValLabel">50%</span>
            </div>
            <input type="range" class="cyber-range vol-sfx" id="stealthSfxVol" min="0" max="1" step="0.05" value="0.5">
        </div>
    </div>

    <div id="autoInstallBox" style="
    display:none;
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #111;
    color: #fff;
    padding: 15px 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    z-index: 999999;
    text-align: center;
    font-size: 16px;
">
        <div style="margin-bottom: 10px;">
            Install this game for faster play & offline access!
        </div>

        <button id="autoInstallBtn" style="
        background: #1e90ff;
        border: none;
        color: white;
        padding: 10px 18px;
        border-radius: 8px;
        font-size: 15px;
        cursor: pointer;
    ">
            Install Now
        </button>
    </div>

    <script>

        let deferredPrompt = null;
        let popupShown = false;

        window.addEventListener("beforeinstallprompt", (e) => {
            e.preventDefault();
            deferredPrompt = e;

            if (!popupShown) {
                setTimeout(showPopup, 2000);

            }
        });

        function showPopup() {
            if (deferredPrompt) {
                const box = document.getElementById("autoInstallBox");
                box.style.display = "block";

                setTimeout(() => {
                    box.classList.add("show");
                }, 20);

                popupShown = true;

                setTimeout(() => {
                    if (deferredPrompt) showPopup();
                }, 10000);
            }
        }

        document.getElementById("autoInstallBtn").addEventListener("click", () => {
            if (!deferredPrompt) return;

            deferredPrompt.prompt();
            deferredPrompt = null;
            hidePopup();
        });

        window.addEventListener("appinstalled", () => {
            deferredPrompt = null;
            hidePopup();
        });

        function hidePopup() {
            const box = document.getElementById("autoInstallBox");
            box.classList.remove("show");

            setTimeout(() => {
                box.style.display = "none";
            }, 600);
        }
    </script>

    <div id="openBrowserBox">
        <button id="openBrowserBtn">üåê Open in Browser to install</button>
    </div>

    <style>
        #openBrowserBox {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 9999;
            display: none;
            pointer-events: auto;
        }

        #openBrowserBtn {
            background: #ff9800;
            color: #fff;
            border: none;
            border-radius: 12px;
            padding: 10px 16px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
            transition: transform 0.2s ease, opacity 0.3s ease;
            opacity: 0;
        }

        #openBrowserBox.show #openBrowserBtn {
            opacity: 1;
            transform: scale(1.1);
            animation: bounce 1s infinite alternate;
        }

        @keyframes bounce {
            0% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1.2);
            }
        }
    </style>

    <script>
        (function () {

            if (sessionStorage.getItem("openBrowserClicked")) return;

            const ua = navigator.userAgent || navigator.vendor || window.opera;

            const socialAppPatterns = [
                /FBAN|FBAV/i,

                /Instagram/i,

                /Twitter/i,

                /Snapchat/i,

                /LinkedIn/i,

                /Reddit/i,

                /TikTok/i,

                /WhatsApp/i,

                /Messenger/i,

                /Pinterest/i

            ];

            const inAppBrowserPatterns = [
                /CriOS/i,

                /FxiOS/i,

                /GSA/i

            ];

            const isSocialApp = socialAppPatterns.some(rx => rx.test(ua));
            const isInAppBrowser = /FBAN|FBAV|Instagram|Twitter|Snapchat|LinkedIn|Reddit|TikTok|Messenger|WhatsApp|Pinterest/i.test(ua)
                && !/Chrome|Safari|Firefox|Edge/i.test(ua);

            if (!isSocialApp && !isInAppBrowser) return;

            const box = document.getElementById("openBrowserBox");
            const btn = document.getElementById("openBrowserBtn");

            setTimeout(() => {
                box.style.display = "block";
                requestAnimationFrame(() => box.classList.add("show"));
            }, 2000);

            btn.addEventListener("click", () => {
                window.open(window.location.href, "_blank");

                box.classList.remove("show");
                setTimeout(() => box.style.display = "none", 300);
                sessionStorage.setItem("openBrowserClicked", "true");
            });
        })();
    </script>

    <canvas id="c"></canvas>
    <div class="hud">‚Ä¶<body>
    <div class="biome-overlay"></div>
    <div class="biome-layer-1"></div>
    <div class="biome-layer-2"></div>
    <div class="menus">‚Ä¶</div>
    <div id="muteBtn">‚Ä¶</div>
    <div id="shareBtn">‚Ä¶</div>

    <script src="https://cdn.jsdelivr.net/npm/detect-gpu@5.0.38/dist/detect-gpu.min.js" defer></script>
    <script>
        
        window.PERF_CONFIG = {
            GPU_TIERS: {
                LOW: { tier: 1, scale: 0.65, fps: 30, quality: 'low' },
                MEDIUM: { tier: 2, scale: 0.85, fps: 45, quality: 'medium' },
                HIGH: { tier: 3, scale: 1.0, fps: 60, quality: 'high' }
            },
            ENABLE_FPS_MONITOR: true,
            ENABLE_TOUCH_OPTIMIZATION: true,
            ENABLE_AUTO_SCALING: true
        };

        (async () => {
            const gpu = new GpuJsDetector();
            const result = await gpu.getGPUTier({
                mobileBenchmarkPercentile: 50,

                desktopBenchmarkPercentile: 50
            });

            const tier = result.tier;

            let scale = 1.0;
            let targetFps = 60;
            let lowQualityMode = false;

            if (tier <= 1) {

                scale = 0.65;
                targetFps = 30;
                lowQualityMode = true;
            } else if (tier === 2) {

                scale = 0.85;
                targetFps = 45;
            } else if (tier >= 3) {

                scale = 1.0;
                targetFps = 60;
            }

            window.PERF_TIER = tier;
            window.PERF_SCALE = scale;
            window.PERF_FPS = targetFps;
            window.LOW_QUALITY = lowQualityMode;

            const canvas = document.getElementById('c');
            function resizeCanvas() {
                const dpr = window.devicePixelRatio || 1;
                const actualScale = lowQualityMode ? scale : Math.min(scale, 1);

                canvas.width = canvas.clientWidth * dpr * actualScale;
                canvas.height = canvas.clientHeight * dpr * actualScale;

                canvas.style.width = '100%';
                canvas.style.height = '100%';
            }

            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            let lastFrameTime = 0;
            const originalRaf = window.requestAnimationFrame;
            window.requestAnimationFrame = function (callback) {
                return originalRaf(function (time) {
                    if (!lastFrameTime) lastFrameTime = time;
                    const delta = time - lastFrameTime;
                    const interval = 1000 / targetFps;

                    if (delta > interval) {
                        lastFrameTime = time - (delta % interval);
                        callback(time);
                    } else {
                        originalRaf(arguments.callee);
                    }
                });
            };

            canvas.style.touchAction = 'none';
            ['touchstart', 'touchmove', 'touchend', 'touchcancel'].forEach(ev => {
                canvas.addEventListener(ev, e => e.preventDefault(), { passive: false });
            });

            if (lowQualityMode) {
                const originalGetContext = HTMLCanvasElement.prototype.getContext;
                HTMLCanvasElement.prototype.getContext = function (type, attributes) {
                    if (type.includes('webgl')) {
                        attributes = attributes || {};
                        attributes.precisionHint = 'low';

                    }
                    return originalGetContext.call(this, type, attributes);
                };
            }

            console.log(`Block Blaster ‚Üí Device tier \( {tier} ‚Üí Scale: \){scale.toFixed(2)}, FPS cap: ${targetFps}`);
        })();
    </script>

    <script>

        (function () {
            let last = performance.now();
            let frames = 0;
            function fpsMonitor() {
                const now = performance.now();
                frames++;
                if (now - last >= 1000) {
                    console.log("FPS:", frames);
                    frames = 0;
                    last = now;
                }
                requestAnimationFrame(fpsMonitor);
            }
            fpsMonitor();
        })();

        function accelerateTiles(tileSelector) {
            const tiles = document.querySelectorAll(tileSelector);
            tiles.forEach(tile => {
                tile.style.transform = "translate3d(0,0,0)";
                tile.style.willChange = "transform";
            });
        }

        function animateTile(tile, targetX, targetY, duration = 300, callback) {
            const startX = tile.offsetLeft;
            const startY = tile.offsetTop;
            const deltaX = targetX - startX;
            const deltaY = targetY - startY;
            const startTime = performance.now();

            function step(now) {
                const elapsed = now - startTime;
                const progress = Math.min(elapsed / duration, 1);
                tile.style.transform = `translate3d(${deltaX * progress}px, ${deltaY * progress}px, 0)`;
                if (progress < 1) {
                    requestAnimationFrame(step);
                } else {
                    if (callback) callback();
                }
            }
            requestAnimationFrame(step);
        }

        function throttle(fn, limit = 50) {
            let lastCall = 0;
            return function (...args) {
                const now = performance.now();
                if (now - lastCall >= limit) {
                    lastCall = now;
                    fn.apply(this, args);
                }
            }
        }

        accelerateTiles(".tile");

    </script>

    <script>
        (function () {

            if (window.__PerfBoostV3) return;

            const __PerfBoostV3 = (() => {

                const state = {
                    tier: "unknown",
                    fps: 60,
                    lowDevice: false,
                    frameTimes: [],
                    lastNow: performance.now(),
                    mem: { usedMB: null, totalMB: null },
                    thermalThrottled: false,
                    lastThermalCheck: 0,
                    emergencyMode: false
                };

                function safeLog(...args) {

                    if (window.location.search.indexOf("perfboost_debug") !== -1) {
                        console.debug("[PerfBoostV3]", ...args);
                    }
                }

                function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }

                function monitorLoop() {
                    try {
                        requestAnimationFrame((now) => {
                            const delta = now - state.lastNow || 16.67;
                            state.lastNow = now;
                            const fps = 1000 / delta;
                            state.frameTimes.push(fps);
                            if (state.frameTimes.length > 30) state.frameTimes.shift();
                            const avg = state.frameTimes.reduce((a, b) => a + b, 0) / state.frameTimes.length || fps;
                            state.fps = Math.round(avg);

                            if (avg < 40) state.lowDevice = true;
                            else if (avg > 48) state.lowDevice = false;

                            if (performance && performance.memory) {
                                const mem = performance.memory;

                                state.mem.usedMB = Math.round(mem.usedJSHeapSize / 1048576);
                                state.mem.totalMB = Math.round(mem.jsHeapSizeLimit / 1048576);

                                if (state.mem.usedMB && state.mem.totalMB &&
                                    state.mem.usedMB / state.mem.totalMB > 0.85) {
                                    state.emergencyMode = true;
                                } else {
                                    state.emergencyMode = false;
                                }
                            }

                            const nowTs = Date.now();
                            if (nowTs - state.lastThermalCheck > 3000) {
                                state.lastThermalCheck = nowTs;

                                const recent = state.frameTimes.slice(-5);
                                if (recent.length >= 3) {
                                    const minRecent = Math.min(...recent);
                                    if (minRecent < Math.max(20, state.fps * 0.5)) {
                                        state.thermalThrottled = true;
                                    } else {
                                        state.thermalThrottled = false;
                                    }
                                }
                            }
                        });
                    } catch (e) {

                    } finally {

                        setTimeout(monitorLoop, 1);

                    }
                }

                function getFrameAllowance() {
                    const fps = state.fps || 60;

                    const emergency = state.emergencyMode || state.thermalThrottled;

                    let skipProb = 0;
                    if (fps >= 50 && !emergency) skipProb = 0;
                    else if (fps >= 40) skipProb = 0.1;
                    else if (fps >= 30) skipProb = 0.25;
                    else skipProb = 0.5 + (emergency ? 0.25 : 0);

                    const t = Math.floor(performance.now() / 16);

                    const seed = (t * 9301 + 49297) % 233280;
                    const rand = (seed % 1000) / 1000;
                    const skipRender = rand < skipProb;
                    const skipPhysics = emergency && (rand < (skipProb * 0.6));

                    return { skipRender, skipPhysics, fps: state.fps, emergency };
                }

                function computeScaleSuggestion() {

                    const dpr = window.devicePixelRatio || 1;
                    let base = 1;
                    if (state.lowDevice || state.fps < 40) base = 0.75;
                    if (state.emergencyMode || state.fps < 30) base = 0.5;
                    return clamp(base, 0.5, 1) / dpr;
                }

                function attachCanvasScalingIfOptIn() {
                    try {

                        const canvases = Array.from(document.querySelectorAll('canvas[data-perfboost-scale="auto"]'));
                        if (!canvases.length) return;
                        const scale = computeScaleSuggestion();
                        canvases.forEach(c => {

                            c.style.willChange = "transform";
                            c.style.transformOrigin = "0 0";

                            c.style.transform = `scale(${scale})`;

                            c.style.imageRendering = "pixelated";

                            c.setAttribute("data-perfboost-applied-scale", String(scale));
                        });
                    } catch (e) {

                    }
                }

                function emergencyCleanupSweep() {
                    try {

                        if (!state.emergencyMode) return;

                        const nodes = document.querySelectorAll(".perfboost-disposable");
                        nodes.forEach(n => {
                            try { n.remove(); } catch (e) { }
                        });
                        safeLog("Emergency cleanup sweep executed, removed:", nodes.length);
                    } catch (e) { }
                }

                function maybeCreateStatusOverlay() {
                    try {
                        const visible = document.querySelector('[data-perfboost-ui="visible"]');
                        if (!visible) return;

                        const host = document.createElement("div");
                        host.style.position = "fixed";
                        host.style.right = "6px";
                        host.style.bottom = "6px";
                        host.style.zIndex = "2147483646";

                        host.style.pointerEvents = "none";
                        const shadow = host.attachShadow({ mode: "closed" });
                        const rootDiv = document.createElement("div");
                        rootDiv.style.fontSize = "11px";
                        rootDiv.style.padding = "6px 8px";
                        rootDiv.style.borderRadius = "6px";
                        rootDiv.style.background = "rgba(0,0,0,0.35)";
                        rootDiv.style.color = "white";
                        rootDiv.style.backdropFilter = "blur(2px)";
                        rootDiv.style.pointerEvents = "none";
                        rootDiv.textContent = `PerfBoost v3 ‚Äî fps: ${state.fps}`;
                        shadow.appendChild(rootDiv);
                        document.documentElement.appendChild(host);

                        setInterval(() => {
                            try {
                                rootDiv.textContent = `PerfBoost v3 ‚Äî fps: ${state.fps} tier:${state.tier}${state.emergencyMode ? " ‚ö†" : ""}`;
                            } catch (e) { }
                        }, 600);
                    } catch (e) { }
                }

                function broadcastState() {
                    try {
                        const snapshot = {
                            fps: state.fps,
                            tier: state.tier,
                            lowDevice: state.lowDevice,
                            mem: state.mem,
                            emergencyMode: state.emergencyMode,
                            thermalThrottled: state.thermalThrottled,
                            timestamp: Date.now()
                        };
                        const evt = new CustomEvent('perfboost:update', { detail: snapshot });

                        window.dispatchEvent(evt);
                    } catch (e) { }
                }

                function detectTier() {
                    const cores = navigator.hardwareConcurrency || 2;
                    const mem = navigator.deviceMemory || 2;
                    const smallScreen = (window.screen.width || 0) < 540 || (window.screen.height || 0) < 540;
                    if (cores <= 4 || mem <= 2 || smallScreen) {
                        state.tier = "low";
                        state.lowDevice = true;
                    } else if (cores <= 6) {
                        state.tier = "mid";
                    } else state.tier = "high";
                }

                function periodicTasks() {
                    try {
                        attachCanvasScalingIfOptIn();

                        emergencyCleanupSweep();

                        broadcastState();

                    } catch (e) { }
                    setTimeout(periodicTasks, 1000);

                }

                const publicAPI = Object.freeze({

                    getInfo: () => ({
                        fps: state.fps,
                        tier: state.tier,
                        lowDevice: state.lowDevice,
                        mem: Object.assign({}, state.mem),
                        emergencyMode: state.emergencyMode,
                        thermalThrottled: state.thermalThrottled
                    }),

                    getFrameAllowance,

                    computeScaleSuggestion,

                    manualCleanup: () => { emergencyCleanupSweep(); },

                    version: "3.0.0"
                });

                function start() {
                    detectTier();
                    monitorLoop();

                    
                    maybeCreateStatusOverlay();

                    safeLog("PerfBoostV3 started", publicAPI.getInfo());
                }

                if (document.readyState === "complete" || document.readyState === "interactive") {
                    setTimeout(start, 300);
                } else {
                    document.addEventListener("DOMContentLoaded", () => setTimeout(start, 300), { once: true });
                }

                return publicAPI;
            })();

            try {
                Object.defineProperty(window, '__PerfBoostV3', {
                    value: __PerfBoostV3,
                    writable: false,
                    configurable: false,
                    enumerable: false
                });
            } catch (e) {

                window.__PerfBoostV3 = __PerfBoostV3;
            }

        })();
    </script>

    <div id="ad-container" style="width:320px; height:50px; margin:auto; text-align:center; visibility:hidden;">

    </div>

    <script>
        (function () {
            if (window.adOptimizerLoaded) return;
            window.adOptimizerLoaded = true;

            const adContainer = document.getElementById('ad-container');
            if (!adContainer) return;

            const optimizer = {
                buffer: document.createDocumentFragment(),

                ready: false,
                showAd: function (iframe) {

                    this.buffer.appendChild(iframe);

                    setTimeout(() => {
                        adContainer.appendChild(this.buffer);
                        adContainer.style.visibility = 'visible';
                        this.ready = true;
                    }, 200);

                }
            };

            const iframe = document.createElement('iframe');
            iframe.src = 'https://example.com/your-ad.html';

            iframe.width = '320';
            iframe.height = '50';
            iframe.style.border = '0';
            iframe.style.overflow = 'hidden';
            iframe.loading = 'lazy';
            iframe.allow = 'autoplay; fullscreen';

            window.addEventListener('load', () => {
                setTimeout(() => optimizer.showAd(iframe), 1000);

            });

        })();
    </script>
    
    <!-- PWA Install Logic -->
    <script>
        (function() {
            let deferredPrompt = null;
            const banner = document.getElementById('pwaInstallBanner');
            const installBtn = document.getElementById('pwaInstallBtn');
            const cancelBtn = document.getElementById('pwaCancelBtn');
            
            if (!banner || !installBtn || !cancelBtn) return;
            
            
            const dismissed = localStorage.getItem('pwa_dismissed');
            const installed = localStorage.getItem('pwa_installed');
            
            if (dismissed === 'true' || installed === 'true') {
                return; 
            }
            
          
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                
              
                setTimeout(() => {
                    banner.classList.add('show');
                }, 3000);
            });
            
           
            installBtn.addEventListener('click', async () => {
                if (!deferredPrompt) return;
                
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    console.log('‚úÖ PWA installed');
                    localStorage.setItem('pwa_installed', 'true');
                } else {
                    console.log('‚ùå PWA install declined');
                }
                
                banner.classList.remove('show');
                deferredPrompt = null;
            });
            
            
            cancelBtn.addEventListener('click', () => {
                banner.classList.remove('show');
                localStorage.setItem('pwa_dismissed', 'true');
                console.log('‚è≠Ô∏è PWA install dismissed - will not show again');
            });
            
            // Close button (X) click - DISMISS PERMANENTLY
            const closeBtn = document.getElementById('pwaCloseBtn');
            if (closeBtn) {
                closeBtn.addEventListener('click', () => {
                    banner.classList.remove('show');
                    localStorage.setItem('pwa_dismissed', 'true');
                    console.log('‚úï PWA banner closed - will not show again');
                });
            }
            
           
            window.addEventListener('appinstalled', () => {
                console.log('‚úÖ PWA installed successfully');
                localStorage.setItem('pwa_installed', 'true');
                banner.classList.remove('show');
            });
        })();
    </script>
    <script src="./script.js"></script>
</body>
</html>

```
